import{a as j,u as I,r as n,j as e,L as c,B as d,c as w}from"./index-DDmKUig-.js";import{u as y}from"./useRouteContext-2PsM_AsX.js";import{s as k}from"./LoginForm.module-ogHG73oz.js";import{F as C,f as b}from"./index-CcZ-zBXC.js";/* empty css                     */import{C as N}from"./Container-eGHc6P_D.js";import{T as v,P as z}from"./TextInput-waQqq7kz.js";import"./Input-D-zSijAJ.js";import"./InputBase-DN6M4zIq.js";const E="https://czvtumfwyoalvjjriqjd.supabase.co",S="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN6dnR1bWZ3eW9hbHZqanJpcWpkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE1MDI4NzAsImV4cCI6MjA0NzA3ODg3MH0.NEY9zyupKwJFon_TWRWVrlTM8Yd_UXAjB-YhbeAIelE";j(E,S);function F(){const s=y({from:"/loginStudent"}),m=I(),[i,L]=n.useState(""),[p,u]=n.useState(""),[g,h]=n.useState("");async function a(x){x.preventDefault();const l=new FormData(document.querySelector("#login-form")),o=l.get("email"),t=l.get("password");(o===""||o.indexOf("@")===-1)&&u("Forkert email"),t===""&&h("Forkert password"),console.log(i),console.log(o),console.log(t),console.log(s.supabase);const{data:r,error:B}=await s.supabase.auth.signInWithPassword({email:o,password:t}),f={name:i,email:r.user.email};console.log("login",r.user.email),s.setUserInfo(f),console.log("Brugerdata:",r),m({to:"/booking"})}return e.jsx("div",{children:e.jsxs(N,{className:k.container,children:[e.jsx("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:""},children:e.jsx(c,{to:"/studentTeacher",children:e.jsxs(d,{size:"lg",className:"transparentBtn",onClick:()=>s.navigate("/"),children:[" ",e.jsx(C,{icon:b}),"  Tilbage"]})})}),e.jsx("h1",{children:"Log ind"}),e.jsxs("form",{onSubmit:a,id:"login-form",children:[e.jsx(v,{style:{color:"white"},label:"Mail",description:"Skriv din skolemail",placeholder:"Mail",name:"email",withAsterisk:!0,size:"lg",styles:{description:{color:"white"}}}),p&&e.jsx("span",{style:{color:"red"},className:"error",children:"Forkert email"}),e.jsx(z,{style:{padding:"40px 0px",color:"white"},label:"Password",description:"Skriv dit password",placeholder:"Password",name:"password",withAsterisk:!0,size:"lg",styles:{description:{color:"white"}}}),g&&e.jsx("span",{style:{color:"red"},className:"error",children:"Forkert password"}),e.jsx(c,{to:"/booking",children:e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(d,{size:"lg",className:"greenBtn",onClick:a,children:"Log ind"})})})]})]})})}const D=w("/loginStudent")({component:A});function A(){return e.jsx("div",{children:e.jsx(F,{})})}export{D as Route};
